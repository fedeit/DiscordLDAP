(this["webpackJsonpdiscord-ldap-web-ui"]=this["webpackJsonpdiscord-ldap-web-ui"]||[]).push([[0],{47:function(e,t,s){},48:function(e,t,s){},71:function(e,t,s){},75:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s(0),c=s.n(n),i=s(38),r=s.n(i),o=(s(47),s.p,s(48),s(39)),l=s(7),d=s(17),j=s(18),h=s(21),u=s(20),b=s(19),x=s.n(b),g=s(13),p=s(14),O={textAlign:"left"},m={textAlign:"right"},v=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={status:[]},a}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var e=this;console.log("Fetching status"),x.a.get("/api/status").then((function(t){console.log(t.data),e.setState(t.data)})).catch((function(e){alert("API is down! Couldn't fetch status. ".concat(e))}))}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("table",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("img",{src:"active-directory.png",style:{height:"60px"}})}),Object(a.jsx)("td",{children:Object(a.jsx)(g.a,{icon:p.c,color:"white"})}),Object(a.jsx)("td",{children:Object(a.jsx)("img",{src:"discord-logo.png",style:{height:"60px"}})})]})}),Object(a.jsx)("h2",{style:{textAlign:"center"},children:"DiscordLDAP Service Status"}),Object(a.jsx)("table",{style:{width:"40%"},children:this.state.status.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:O,children:e.name}),Object(a.jsxs)("td",{style:m,children:[e.isUp&&Object(a.jsx)(g.a,{icon:p.a,color:"green"}),!e.isUp&&Object(a.jsx)(g.a,{icon:p.b,color:"orange"})]})]})}))})]})})}}]),s}(c.a.Component),f=s(12),y=s(41),w=(s(70),s(71),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;Object(d.a)(this,s),a=t.call(this,e);var n=window.location.pathname.replace(/\//g,""),c=void 0;return 32!==n.length&&(c="Invalid link! Make sure you copied it correctly!"),a.state={verified:!1,password:"",username:"",path:n,message:c},a}return Object(j.a)(s,[{key:"setUsername",value:function(e){this.setState({username:e})}},{key:"setPassword",value:function(e){this.setState({password:e})}},{key:"validateForm",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),x.a.post("/verify",{password:this.state.password,username:this.state.username,code:this.state.path}).then((function(e){e.data.verified?t.setState({verified:!0,message:e.data.message}):t.setState({verified:!1,message:e.data.message})})).catch((function(e){t.setState({verified:!1,message:e.message})}))}},{key:"render",value:function(){var e=this;return this.state.verified?Object(a.jsxs)("div",{style:{padding:"20%"},children:[Object(a.jsx)(g.a,{icon:p.a,color:"green",size:"10x"}),Object(a.jsx)("h1",{children:this.state.message})]}):Object(a.jsxs)("div",{className:"Login",children:[Object(a.jsx)("h2",{style:{textAlign:"center"},children:"Discord Verification"}),Object(a.jsx)("p",{style:{color:"red"},children:this.state.message}),Object(a.jsxs)(f.a,{onSubmit:this.handleSubmit.bind(this),children:[Object(a.jsxs)(f.a.Group,{size:"lg",controlId:"username",children:[Object(a.jsx)(f.a.Label,{children:"Username"}),Object(a.jsx)(f.a.Control,{autoFocus:!0,type:"text",value:this.state.username,onChange:function(t){return e.setUsername(t.target.value)},name:"username"})]}),Object(a.jsxs)(f.a.Group,{size:"lg",controlId:"password",children:[Object(a.jsx)(f.a.Label,{children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.setPassword(t.target.value)},name:"password"})]}),Object(a.jsx)(y.a,{block:!0,size:"lg",type:"submit",disabled:!this.validateForm(),children:"Login"})]})]})}}]),s}(c.a.Component));var S=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/status",children:Object(a.jsx)(v,{})}),Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(w,{})})]})})})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,76)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),a(e),n(e),c(e),i(e)}))};r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),k()}},[[75,1,2]]]);
//# sourceMappingURL=main.690d43a9.chunk.js.map